# 聊天控制系统说明

## 概述

这是麦麦回复的主要逻辑，负责决定何时回复以及使用动作。
能够根据聊天内容、用户兴趣、时间等因素动态调整回复策略。

## 系统架构

麦麦的回复，沉默，以及其他动作使用（例如表情包，或者插件添加的动作），都由Planner统一控制

在每一次思考中，**planner**会决定合适的时机使用动作，或保持沉默

思考的频率可以由配置文件中 chat - talk_value 来控制，1为默认值，此时为标准思考频率，调低会降低思考频率，最低为0（此选项不会影响提及必回）



## 为什么不说话/说话很少？

### 可能原因：

- 新消息较少
- planner决定选择no_reply：可以修改配置文件中的plan_style和interest，此配置会明显影响麦麦的回复和其他动作行为
- talk_value较高

```toml

[personality]
# 麦麦的兴趣，会影响麦麦对什么话题进行回复
interest = "对技术相关话题，游戏和动漫相关话题感兴趣，也对日常话题感兴趣，不喜欢太过沉重严肃的话题"

# 麦麦的说话规则，行为风格:
plan_style = """请你根据聊天内容,用户的最新消息和以下标准选择合适的动作:
1.思考**所有**的可用的action中的**每个动作**是否符合当下条件，如果动作使用条件符合聊天内容就使用
2.如果相同的内容已经被执行，请不要重复执行
3.请控制你的发言频率，不要太过频繁的发言
4.如果有人对你感到厌烦，请减少回复
5.如果有人对你进行攻击，或者情绪激动，请你以合适的方法应对"""

[chat] #麦麦的聊天设置
talk_value = 1
mentioned_bot_reply = true # 是否启用提及必回复

```
